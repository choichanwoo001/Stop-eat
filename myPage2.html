<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>í”„ë¡œí•„ ê´€ë¦¬</title>
    <link rel="stylesheet" href="myPage2.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <img id="logo" src="logo.png" alt="ë¡œê³ "/>
        <button id="logoutButton">Log out</button>
    </header>
    <div class="main-container">
        <div class="profile-section">
            <img src="burger.jpg" alt="í–„ë²„ê±° ì•„ì´ì½˜" class="icon">
            <h2>ì‹±ì‹±í•œ í–„ë²„ê±°</h2>
            <form id="profileForm" action="update_profile.php" method="POST">
                <div class="input-group">
                    <label for="username">ì‚¬ìš©ì ì´ë¦„</label>
                    <input type="text" id="username" name="username" placeholder="ì‚¬ìš©ì ì´ë¦„" required>
                </div>
                <div class="input-group">
                    <label for="password">ìƒˆ ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="password" name="password" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸" required>
                </div>
                <div class="input-group">
                    <label for="confirmPassword">ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸" required>
                </div>
                <div class="input-group">
                    <label for="height">í‚¤ (cm)</label>
                    <input type="number" id="height" name="height" placeholder="í‚¤ (cm)" required>
                </div>
                <div class="input-group">
                    <label for="weight">ëª¸ë¬´ê²Œ (kg)</label>
                    <input type="number" id="weight" name="weight" placeholder="ëª¸ë¬´ê²Œ (kg)" required>
                </div>
                <div class="input-group">
                    <label for="bmi">BMI</label>
                    <input type="text" id="bmi" name="bmi" placeholder="BMI" readonly>
                </div>
                <div class="input-group">
                    <label for="targetWeight">ëª©í‘œ ì²´ì¤‘ (kg)</label>
                    <input type="number" id="targetWeight" name="targetWeight" placeholder="ëª©í‘œ ì²´ì¤‘ (kg)">
                </div>
                <button type="submit" class="profile-button">ì €ì¥</button>
            </form>
        </div>
        <div class="calendar-section">
            <div class="calendar-header">
                <button class="nav-button" id="prevMonth">&lt;</button>
                <span id="calendarTitle">2024ë…„ 5ì›”</span>
                <button class="nav-button" id="nextMonth">&gt;</button>
            </div>
            <div class="calendar">
                <div class="week">
                    <div class="day">Sun</div>
                    <div class="day">Mon</div>
                    <div class="day">Tue</div>
                    <div class="day">Wed</div>
                    <div class="day">Thu</div>
                    <div class="day">Fri</div>
                    <div class="day">Sat</div>
                </div>
                <div class="days" id="calendarDays">
                    <!-- Calendar days will be generated dynamically here -->
                </div>
            </div>
            <p class="message">ì•„ì£¼ ì˜ í•˜ê³  ìˆì–´ìš”! ğŸ˜</p>
        </div>
    </div>

    <script>
        // BMI ê³„ì‚° í•¨ìˆ˜
        function calculateBMI() {
            const height = document.getElementById('height').value;
            const weight = document.getElementById('weight').value;
            const bmi = document.getElementById('bmi');

            if (height > 0 && weight > 0) {
                const bmiValue = (weight / ((height / 100) ** 2)).toFixed(2);
                bmi.value = bmiValue;
            } else {
                bmi.value = '';
            }
        }

        // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í•¨ìˆ˜
        function validatePassword() {
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (password !== confirmPassword) {
                document.getElementById('confirmPassword').setCustomValidity('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            } else {
                document.getElementById('confirmPassword').setCustomValidity('');
            }
        }

        // ë‹¬ë ¥ ìƒì„± í•¨ìˆ˜
        function generateCalendar(year, month) {
            const calendarDays = document.getElementById('calendarDays');
            calendarDays.innerHTML = '';

            const date = new Date(year, month - 1, 1);
            const firstDay = date.getDay();
            const daysInMonth = new Date(year, month, 0).getDate();

            // ë¹ˆ ì¹¸ ì¶”ê°€
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.classList.add('day', 'empty');
                calendarDays.appendChild(emptyDay);
            }

            // ë‚ ì§œ ì¶”ê°€
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.classList.add('day');
                dayElement.textContent = day;
                calendarDays.appendChild(dayElement);
            }

            document.getElementById('calendarTitle').textContent = `${year}ë…„ ${month}ì›”`;
        }

        // í˜„ì¬ ì›”, ì—°ë„ ì €ì¥
        let currentYear = 2024;
        let currentMonth = 5;

        // ì´ì „ ë‹¬ë¡œ ì´ë™
        document.getElementById('prevMonth').addEventListener('click', () => {
            if (currentMonth === 1) {
                currentMonth = 12;
                currentYear--;
            } else {
                currentMonth--;
            }
            generateCalendar(currentYear, currentMonth);
        });

        // ë‹¤ìŒ ë‹¬ë¡œ ì´ë™
        document.getElementById('nextMonth').addEventListener('click', () => {
            if (currentMonth === 12) {
                currentMonth = 1;
                currentYear++;
            } else {
                currentMonth++;
            }
            generateCalendar(currentYear, currentMonth);
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë‹¬ë ¥ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            generateCalendar(currentYear, currentMonth);
        });

        // ì…ë ¥ í•„ë“œì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.getElementById('height').addEventListener('input', calculateBMI);
        document.getElementById('weight').addEventListener('input', calculateBMI);
        document.getElementById('password').addEventListener('input', validatePassword);
        document.getElementById('confirmPassword').addEventListener('input', validatePassword);
    </script>
</body>
</html>
